{"meta":{"title":"ciker","subtitle":"0hex","description":"Ciker's Blog.","author":"Ciker","url":"https://blog.c1ker.top"},"pages":[{"title":"","date":"2019-07-26T15:28:25.154Z","updated":"2019-07-26T15:28:25.154Z","comments":true,"path":"about/index.html","permalink":"https://blog.c1ker.top/about/index.html","excerpt":"","text":"title:about date:2017-02-14 06:06:06"},{"title":"SSTI ä»é›¶åˆ°EXPå­¦ä¹ ","date":"2019-08-20T03:42:03.000Z","updated":"2019-08-20T03:42:03.092Z","comments":true,"path":"SSTI-ä»é›¶åˆ°EXPå­¦ä¹ .html","permalink":"https://blog.c1ker.top/SSTI-ä»é›¶åˆ°EXPå­¦ä¹ .html","excerpt":"","text":""},{"title":"é“¶è”ç³»ç»ŸAWD WRITE UP","date":"2019-08-20T03:25:17.000Z","updated":"2019-08-20T03:27:52.196Z","comments":true,"path":"é“¶è”ç³»ç»ŸAWD-WRITE-UPï¼ˆä¸€ï¼‰.html","permalink":"https://blog.c1ker.top/é“¶è”ç³»ç»ŸAWD-WRITE-UPï¼ˆä¸€ï¼‰.html","excerpt":"","text":""}],"posts":[{"title":"HFish èœœç½ä½¿ç”¨å¿ƒå¾—","slug":"HFish-èœœç½ä½¿ç”¨å¿ƒå¾—","date":"2019-11-15T08:10:04.000Z","updated":"2020-01-04T13:35:15.236Z","comments":true,"path":"2019/11/15/HFish-èœœç½ä½¿ç”¨å¿ƒå¾—/","link":"","permalink":"https://blog.c1ker.top/2019/11/15/HFish-èœœç½ä½¿ç”¨å¿ƒå¾—/","excerpt":"","text":"(æœ¬ç¯‡é¦–å‘äº https://www.freebuf.com/vuls/220646.html) æœ€è¿‘æ­å»ºå„ç§èœœç½æµ‹è¯•ï¼Œè¿™ç¯‡æ–‡ç« ä¸»è¦åˆ†äº« HFish V0.4 ä½¿ç”¨è¿‡ç¨‹ä¸­çš„ä¸€äº›å¿ƒå¾—ã€‚ éƒ¨ç½²å•èŠ‚ç‚¹éƒ¨ç½²å•ç‚¹éƒ¨ç½²å®˜æ–¹æ–‡æ¡£ä»‹ç»å·²ç»å¾ˆå…¨é¢äº†ï¼Œä¸è¿‡windows å®¶åº­ç‰ˆdockerç‰ˆéƒ¨ç½²æœ‰ç‚¹å‘éœ€è¦æ³¨æ„çš„ã€‚ å®¶åº­ç‰ˆæ˜¯ä¸èƒ½ç›´æ¥å®‰è£…dockerï¼Œéœ€è¦å®‰è£…docker tool box ï¼ŒåŸç†æ˜¯å¼€å¯vbox çš„linuxè™šæ‹Ÿæœºï¼Œç„¶ååœ¨linuxè™šæ‹Ÿæœºé‡Œé¢å®‰è£…dockerï¼Œæ‰€ä»¥ï¼Œåœ¨å¯ç”¨dockerå®¹å™¨çš„æ—¶å€™ï¼Œå¦‚æœæŒ‡å®š -p 127.0.0.1:22:22 ç‰©ç†æœºæ˜¯æ— æ³•è®¿é—®èœœç½ï¼Œåªèƒ½æŠŠå®¹å™¨çš„ç«¯å£æ˜ å°„åˆ°0.0.0.0çš„åœ°å€ä¸Šï¼Œç‰©ç†æœºæ‰å¯ä»¥è®¿é—®ã€‚ eg: 1docker run -d -p 2222:22 -p 23:23 -p 9001:9001 -e USERNAME=god -e PASSWORD=123456 --name hfish imdevops/hfish:latest ç„¶åè¿›å…¥linuxè™šæ‹Ÿæœºé‡Œé¢ï¼ŒæŸ¥çœ‹è™šæ‹Ÿæœºå…·ä½“çš„ipåœ°å€ æˆåŠŸè®¿é—® åˆ†å¸ƒå¼éƒ¨ç½²ä¸ºäº†èƒ½å°½å¯èƒ½å…¨çš„æ”¶é›†å…¨çƒæ”»å‡»æ•°æ®ï¼Œè¿™æ¬¡è®¡åˆ’é‡‡ç”¨åˆ†å¸ƒå¼éƒ¨ç½²æ–¹å¼ã€‚ä½¿ç”¨vpsä¾›åº”å•†ä¸º vultr ï¼ŒIDCæœºæˆ¿åˆ†å¸ƒå¦‚ä¸‹å›¾ åˆ—è¡¨ä¸­æœ‰9ä¸ªå›½å®¶ï¼Œubuntu ç³»ç»Ÿæœ€ä½é…ç½®æ¯ä¸ªæœˆ5ç¾å…ƒï¼Œæ¯ä¸ªå›½å®¶ä¸€å°vps deploy ä¹Ÿæ²¡å¤šå°‘é’±ã€‚è¿™è¾¹æœ‰ä¸ªæ³¨æ„ç‚¹å°±æ˜¯ï¼Œåœ¨deployæ—¶å€™ï¼Œå¯ä»¥ç›´æ¥æ·»åŠ è‡ªå·±çš„ssh keyï¼Œè¿™æ ·åé¢ç®¡ç†vpsä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œå› ä¸ºæˆ‘å¿˜äº†æˆ‘çš„ssh key çš„å¯†ç äº†ï¼Œå°±ç›´æ¥ç”¨è´¦æˆ·å¯†ç ç®¡ç†ã€‚vpsè¿‡å¤šï¼Œç®¡ç†èµ·æ¥æŒºéº»çƒ¦çš„ï¼Œè¿™é‡Œæˆ‘ä½¿ç”¨python3 çš„ paramiko è‡ªåŠ¨åŒ–ä¸€é”®é…ç½®ï¼Œä¸»è¦ä»£ç å¦‚ä¸‹ï¼š åˆå§‹åŒ–æœåŠ¡å™¨ï¼Œå¹¶å®‰è£…docker.io ï¼š å¯åŠ¨ docker å®¹å™¨ï¼š å®˜æ–¹åˆ†å¸ƒå¼éƒ¨ç½²å‘½ä»¤ä¼šå°‘äº›ç«¯å£ï¼Œå¯ä»¥æ ¹æ® config.ini ç«¯å£è‡ªè¡Œå¢åˆ  è¿™è¾¹è¿˜æœ‰ä¸€äº›éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼Œå›½å†…è®¿é—®å›½å¤–æœåŠ¡å™¨ï¼Œå¯èƒ½ä¼šä¸¢åŒ…ï¼Œæœ€å¥½æ˜¯åœ¨å…¶ä¸­ä¸€å°vpsä¸Šé¢æ‰§è¡Œåˆå§‹åŒ–è„šæœ¬ è¿è¡Œå®Œåï¼ŒæŸ¥çœ‹ä¸»èŠ‚ç‚¹ï¼ŒæˆåŠŸæ¥æ”¶åˆ°æ•°æ® æ”»å‡»æ•°æ®åˆ†æåˆ†å¸ƒå¼èœœç½éƒ¨ç½²äº†å‡ å¤©åï¼Œæ¥ä¸‹æ¥æ˜¯å¯¹æ•è·çš„æ•°æ®è¿›è¡Œåˆ†æäº†ï¼Œä¸‹é¢ä¸»è¦ä»¥ SSH èœœç½æ”»å‡»è¡Œä¸ºä¸ºä¾‹ã€‚å„ä½å¤§ä½¬ä¹Ÿå¯ä»¥ä»é™„ä»¶é‡Œä¸‹è½½æ•°æ®åº“è‡ªè¡Œåˆ†æã€‚å¾€åå¦‚æœæœ‰èƒ½åŠ›ï¼Œä¼šå®šæœŸæä¾›èœœç½æ•è·æ•°ç»™å„ä½ã€‚ æ”»å‡»å­—å…¸ç»Ÿè®¡å…ˆæ¥çœ‹ä¸‹æ•°æ®åº“ hfish_info è¡¨ç»“æ„åŠæ•°æ®ï¼š å¯ä»¥çœ‹åˆ°æ•°æ®åº“ç”¨ &amp;&amp; æ›¿æ¢æ¢è¡Œç¬¦ï¼Œä¿å­˜åœ¨æ•°æ®åº“ä¸­ï¼Œæ¥ä¸‹æ¥å¯ä»¥å†™ä¸ªç»Ÿè®¡æ”»å‡»å­—å…¸è„šæœ¬ã€‚ä»¥ä¸‹ä¸ºå…³é”®éƒ¨åˆ†ç¤ºä¾‹ä»£ç ï¼š 123456def __init__(self): self.hfish_db = './file/hfish.db' self.hfish_split = '&amp;&amp;' self.sql = sqlite3.connect(self.hfish_db) #è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œæµ‹è¯•æ—¶å€™å‘ç°ï¼Œæœ‰äº›å­—ç¬¦æ— æ³•ç”¨utf-8è§£ç ï¼Œæ‰€ä»¥å¾—ç”¨bytes self.sql.text_factory = bytes æœç´¢ sqlite æ•°æ®åº“ä¸­æ‰€æœ‰ ssh æ”»å‡»çš„ç±»å‹ ç„¶ååˆ†å‰² &amp;&amp; ï¼ŒæŠŠç”¨æˆ·åå¯†ç åˆ†å‰²å¼€ï¼Œå¹¶è¾“å‡ºåˆ°æ–‡æœ¬é‡Œé¢ æ‰“å°ä¸€ä¸‹ç”¨æˆ·ååŠå¯†ç é¢‘æ¬¡ å–ç”¨æˆ·ååŠå¯†ç å‡ºç°æ¬¡æ•°top10 12345# æŒ‰å­—å…¸å€¼ååºæ’åº,æ–¹æ³•ä¸€user = sorted(user_pwd_dic['user'].items(), key=lambda x:x[1],reverse=True)# æŒ‰å­—å…¸å€¼ååºæ’åº,æ–¹æ³•äºŒpassword = list(user_pwd_dic['pwd'].items())password.sort(key=lambda x:x[1],reverse=True) å°†ç»“æœæ‰“å° å…¶å®å­—å…¸å…·æœ‰åœ°åŸŸæ€§ï¼Œå¯ä»¥æ ¹æ®æ”»å‡»å­—å…¸åœ°åŸŸæ€§ï¼Œé…ç½®ä¸‹èœœç½ï¼Œç”±äºé»˜è®¤èœœç½è´¦æˆ·å¯†ç å‡ä¸ºrootï¼Œä¸åœ¨å¸¸è§å¤–ç½‘çˆ†ç ´æ”»å‡»å­—å…¸é‡Œï¼Œæ‰€ä»¥åç»­å¾ˆå¤šæ”»å‡»éƒ½æ— æ³•è¿›è¡Œã€‚ å­—å…¸åœ°åŸŸæ€§åˆ†ææ¥ä¸‹æ¥åˆ†æä¸€ä¸‹å„ä¸ªå›½å®¶çš„èœœç½æ”¶é›†åˆ°çš„å­—å…¸å·®å¼‚ï¼Œä¸»è¦ä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425def RegionDic(self): agent_sql = \"select agent from hfish_info\" data = self.sql.execute(agent_sql).fetchall() agents = [] for agent in list(set(data)): agents.append(agent[0].decode('utf-8')) agents_dic = &#123;&#125; for agent in agents: agents_dic[agent] = &#123;&#125; data = self.sql.execute(dic_sql_tpl.format(agent)).fetchall() for d in data: if d[0] in agents_dic[agent].keys(): agents_dic[agent][d[0]] = agents_dic[agent][d[0]] + 1 else: agents_dic[agent][d[0]] = 1 agents_dic[agent] = sorted(agents_dic[agent].items(), key=lambda x:x[1],reverse=True) for agent in agents: print(agent) for i in range(5): #è¿™é‡Œä¸ç›´æ¥ç”¨decode utf-8 æ˜¯å› ä¸ºæ•è·åˆ°çš„ä¸€äº›å­—ç¬¦æ— æ³•ç”¨utf-8è§£ç ï¼Œè¿™ä¸ªåœ¨ä¸Šä¸€èŠ‚è¿æ¥æ•°æ®åº“é‡Œé¢æœ‰æåˆ°ã€‚ print(\"%s\\t\\t%s\"%(str(agents_dic[agent][i][0]).replace(\"b'\",'').replace(\"'\",''), agents_dic[agent][i][1])) print() å¾—åˆ°çš„ç»“æœå¦‚ä¸‹ï¼š ä½¿ç”¨ pyecharts ç”Ÿæˆå›¾è¡¨ï¼Œ 123456789 bar = (Bar(options.InitOpts(width='1000px', height='500px')) .add_xaxis(u_p_dic) .add_yaxis(agent, u_p_count) .set_global_opts( title_opts=options.TitleOpts(title=(\"%sç»Ÿè®¡\"%agent)) ) ) tab.add(bar, agent)tab.render() è¿™é‡Œå¢™è£‚æ¨èç›´æ¥çœ‹ pyecharts å®˜æ–¹æ–‡æ¡£ï¼Œç‰¹åˆ«è¯¦ç»†å…¨é¢ï¼Œä¸è¦æœCSDNé‡Œé¢çš„åšå®¢ï¼Œä¸å¿åæ§½æŸäº›åšæ–‡ã€‚ å› ä¸ºæ”¶é›†æ—¶é—´ä¸é•¿ï¼Œä¸”å­èŠ‚ç‚¹å’Œä¸»èŠ‚ç‚¹é€šä¿¡è«åä¸­æ–­ï¼Œæ­¤ç»“æœä¸å…·æœ‰æ™®éæ€§ è¿™é‡Œåªæ˜¯ç®€å•æå–æ”»å‡»å­—å…¸ï¼Œå¹¶æ²¡æœ‰åšæ›´æ·±å…¥åˆ†æï¼Œå„ä½å¯ä»¥é€šè¿‡åé¢é™„ä»¶ä¸‹è½½ï¼Œè‡ªè¡Œåˆ†æã€‚ åé¢ä¼šæ ¹æ®å­—å…¸çš„åœ°åŸŸæ€§ï¼Œåœ¨éƒ¨ç½²èœœç½çš„æ—¶å€™ï¼Œä¿®æ”¹ç‰¹å®šçš„æ ‡è‡´ èœœç½æ£€æµ‹åŸºäºæµé‡è¯†åˆ«è¿™é‡Œä»¥æ”»å‡»è€…åœ¨å†…ç½‘ï¼Œä¸”èœœç½æ˜¯ä»¥åˆ†å¸ƒå¼éƒ¨ç½²æƒ…å†µä½œä¸ºç¤ºä¾‹ï¼Œæ‹“æ‰‘å›¾å¦‚ä¸‹ï¼š ä½¿ç”¨ tcpdump dumpæ•°æ®åŒ…ï¼Œwireshark æ‰“å¼€ï¼Œå¯ä»¥çœ‹åˆ°å­èŠ‚ç‚¹å’Œä¸»èŠ‚ç‚¹ä¹‹é—´çš„é€šä¿¡ä»¥æ˜æ–‡ä¼ è¾“ï¼Œä¸”æœ‰æ˜æ˜¾çš„ç‰¹å¾ ä½¿ç”¨scapy è¯†åˆ«ä¸»èŠ‚ç‚¹å’Œå­èŠ‚ç‚¹çš„åœ°å€ï¼Œä¸»è¦ä»£ç å¦‚ä¸‹ å­˜åœ¨é—®é¢˜çš„ä»£ç åœ¨ /core/rpc/client/client.go åœ¨å†…ç½‘æ¸—é€è¿‡ç¨‹ä¸­ï¼Œå¦‚æœèƒ½å‘ç°éƒ¨ç½²çš„èœœç½ï¼Œå¯ä»¥é™ä½è¢«å‘ç°å¯èƒ½æ€§ã€‚ åŸºäºé«˜äº¤äº’èœœç½è¿”å›å†…å®¹è¯†åˆ«hfish é«˜äº¤äº’å¼èœœç½æ˜¯æ ¹æ®ç‰¹å¾å­—ç¬¦å›æ˜¾ï¼ŒåŒ¹é…çš„è§„åˆ™æœ‰é™ï¼Œæ¯”å¦‚å¸¸è§çš„è¯»å– passwd é€šå¸¸ä½¿ç”¨ cat /etc/passwd ï¼Œåœ¨SSHè§„åˆ™é‡Œæœ‰ç›¸åº”çš„è§„åˆ™ å¦‚æœå˜å½¢ä½¿ç”¨ 1cat /etc/passwd &amp; æˆ–è€… 1tail /etc/passwd åœ¨æ­£å¸¸çš„ vps é‡Œé¢ä¹Ÿæ˜¯å¯ä»¥æ­£å¸¸è¯»å–åˆ° passwd çš„å†…å®¹ï¼Œ ä½†å¦‚æœåœ¨èœœç½é‡Œé¢ï¼Œåˆ™ä¼šæ˜¾ç¤ºå¼‚å¸¸ï¼Œæœªä¿®æ”¹é…ç½®çš„æƒ…å†µä¸‹æ˜¯ test . åŸºäºå­—ç¬¦åŒ¹é…çš„è§„åˆ™ï¼Œæ€»ä¼šæœ‰é—æ¼çš„åœ°æ–¹ï¼Œå¯ä»¥å°è¯•å˜å½¢çš„å‘½ä»¤æµ‹è¯•æ˜¯å¦æ˜¯hfishèœœç½ã€‚ é«˜äº¤äº’å¼èœœç½çš„é…ç½®æ–‡ä»¶åœ¨ç›¸åº”çš„ libs/èœœç½ç±»å‹/ ä¸‹é¢ï¼Œé»˜è®¤default å€¼åœ¨ libs/èœœç½ç±»å‹/default.hf ã€‚ åŸºäºç®¡ç†ç«¯å£è¿”å›å†…å®¹è¯†åˆ«è¿™ä¸ªå¾ˆå¥½ç†è§£äº†ï¼Œå¦‚æœè¿”å›åŒ…å«ç®¡ç†é¡µé¢ç‰¹å¾å­—ç¬¦å°±å¯ä»¥åˆ¤æ–­äº†ï¼Œè¿™é‡Œå°±ç›´æ¥ç»™å‡º POC äº†ã€‚ éæˆæƒæ¥å£è·å–ä¿¡æ¯é—®é¢˜ä»£ç åœ¨ /view/url.go æ–‡ä»¶ä¸­ å¯ä»¥å‘ç°ï¼Œè¿™é‡Œè¿èº«ä»½é‰´åˆ«éƒ½æ²¡ä½œï¼Œå½“è·å–åˆ°ä¸»æœºç‚¹ipåŠç«¯å£åï¼Œç›´æ¥è¯·æ±‚uriï¼Œå°±å¯ä»¥è·å–èœœç½æ•è·çš„ä¿¡æ¯ï¼Œä»è€Œåˆ†æèœœç½ä½ç½®ã€‚ éªŒè¯POCï¼š 12http://ip:port/api/v1/get/iphttp://ip:port/api/v1/get/fish_info èœœç½æ”»å‡»éæˆæƒæ”»å‡»æŸ¥çœ‹ä¸‹ä¸»èŠ‚ç‚¹é¢æ¿æŸ¥è¯¢ä¼ è¾“çš„æ•°æ®åŒ…ï¼Œç”¨æˆ·è®¤è¯æ˜¯é€šè¿‡åï¼Œis_login çš„å€¼å°±æ˜¯ç™»é™†ç”¨æˆ·ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥ç›´æ¥çˆ†ç ´è¿™ä¸ªç”¨æˆ·ï¼Œç»•è¿‡ç™»é™†ï¼Œç›´æ¥è®¾ç½®åç«¯å„ç§å‚æ•°ï¼Œæ¯”å¦‚å°†æŠ¥è­¦å‚æ•°ç½®ä¸ºç©ºã€‚ å¯¹åº”çš„é—®é¢˜æºç åœ¨ /view/login/view.go é‡Œ æ›´æ–°æŠ¥è­¦é‚®ä»¶çš„å…·ä½“é…ç½®å‚æ•°åœ¨ /view/setting/view.go é‡Œé¢ï¼Œç¦æ­¢æŠ¥è­¦ poc å°±ä¸ç»™å‡ºäº†ï¼Œå¯è‡ªè¡ŒæŸ¥çœ‹å¯¹åº”å‚æ•°ã€‚ å­˜å‚¨å‹XSSè¿™ä¸ªæ¼æ´æ˜¯æŸä½ä¸æ„¿æä¾›IDå¤§ä½¬æé†’çš„ğŸ˜ã€‚ å› ä¸ºè¿™æ¼æ´æ˜¯åå°å±•ç¤ºçš„åŸå› ï¼Œæ‰€ä»¥ä»»ä½•ä¸€ä¸ªèœœç½éƒ½å¯ä»¥è§¦å‘è¿™ä¸ªæ¼æ´ï¼Œè¿™é‡Œä»¥ ssh èœœç½æ¼”ç¤ºã€‚ ä½¿ç”¨å¦‚ä¸‹payloadè¿æ¥ 1ssh ^&lt;script^&gt;alert^(1234^)^&lt;^/script^&gt;@192.168.99.101 -p 2222 æˆ‘ä½¿ç”¨çš„æ˜¯windowç³»ç»Ÿï¼Œéœ€è¦ç”¨ ^ è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ æäº¤ä¹‹åï¼Œè¿”å› ä¸Šé’©åˆ—è¡¨ ï¼Œç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…ï¼Œå¯ä»¥çœ‹åˆ°æˆåŠŸæ‰§è¡Œxssã€‚ ç‰¹æ€§åŒ–é…ç½®è¿™é‡Œä»¥æ”»å‡»å­—å…¸åœ°åŸŸæ€§ç‰¹ç‚¹åŠèœœç½æ£€æµ‹ä¸­çš„äº¤äº’å¼è¿”å›å†…å®¹ç¼ºé™·ï¼Œç‰¹æ€§åŒ–é…ç½®èœœç½ã€‚ æ ¹æ®åœ°åŸŸï¼Œç‰¹æ€§åŒ–èœœç½é…ç½®å°†ç”¨æˆ·åã€å¯†ç ä¿®æ”¹ä¸ºç»Ÿè®¡çš„å­—å…¸å‡ºç°é¢‘ç‡æœ€é«˜çš„å€¼ã€‚ 123# æ›¿æ¢å¯†ç å’Œç”¨æˆ·åset_user_tpl = 'sed -i \"s/\\\\\"account\\\\\": \\\\\"root\\\\\"/\\\\\"account\\\\\": \\\\\"&#123;&#125;\\\\\"/g\" %s'%ssh_conf_pathset_pwd_tpl = 'sed -i \"s/\\\\\"password\\\\\": \\\\\"root\\\\\"/\\\\\"password\\\\\": \\\\\"&#123;&#125;\\\\\"/g\" %s'%ssh_conf_path é«˜äº¤äº’å¼èœœç½é»˜è®¤è¿”å›ä¿®æ”¹å’±ä»¬ç”¨ä¸€å°Ubuntu çš„vpsæµ‹è¯•ä¸€ä¸‹ï¼ŒæœªçŸ¥çš„å‘½ä»¤è¿”å›ï¼š ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠé»˜è®¤è¿”å›ä¿®æ”¹ä¸ºâ€command not foundâ€çš„è¯ï¼Œå¯ä»¥ç¨å¾®æ”¹å–„ä¸‹è¿”å›ç»“æœã€‚ 1set_default_tpl = 'sed -i \"s/test/: command not found/g\" %s'%ssh_default_path è‡´è°¢æ„Ÿè°¢ä¸‰æ–¤å¤§ä½¬è§£æƒ‘ã€‚ HFish æ˜¯ä¸€æ¬¾éå¸¸ä¸é”™çš„é«˜äº¤äº’å¼èœœç½ï¼Œå¯æ‰©å±•æ€§å¥½ï¼Œå¯ä»¥å¸®å¿™ç‚¹å‡»ä¸€ä¸‹ startï¼Œæ”¯æŒä¸€ä¸‹å›½äº§èœœç½ã€‚ HFish github HFish document é™„ä»¶ sqliteæ•°æ®åº“ HFishæ•°æ®åº“githubåœ°å€ æ”»å‡»ç”¨æˆ·åå­—å…¸ æ”»å‡»å¯†ç å­—å…¸ åœ°åŸŸå­—å…¸ç»Ÿè®¡å›¾è¡¨","categories":[{"name":"èœœç½","slug":"èœœç½","permalink":"https://blog.c1ker.top/categories/èœœç½/"}],"tags":[{"name":"ç½‘ç»œ","slug":"ç½‘ç»œ","permalink":"https://blog.c1ker.top/tags/ç½‘ç»œ/"},{"name":"èœœç½","slug":"èœœç½","permalink":"https://blog.c1ker.top/tags/èœœç½/"}],"keywords":[{"name":"èœœç½","slug":"èœœç½","permalink":"https://blog.c1ker.top/categories/èœœç½/"}]},{"title":"é›ªç¢§å›¾çˆ¬è™«","slug":"é›ªç¢§å›¾çˆ¬è™«","date":"2019-07-29T14:24:35.000Z","updated":"2020-01-04T13:35:38.809Z","comments":true,"path":"2019/07/29/é›ªç¢§å›¾çˆ¬è™«/","link":"","permalink":"https://blog.c1ker.top/2019/07/29/é›ªç¢§å›¾çˆ¬è™«/","excerpt":"","text":"çœ‹åˆ°ç¾¤é‡Œè®¨è®ºäº†ä¸€é“çˆ¬è™«é¢˜ç›®ï¼Œé¢˜ç›®é“¾æ¥å¦‚ä¸‹:é›ªç¢§å›¾çˆ¬è™« é¢˜ç›® é¢˜æ„æ˜¯çˆ¬å–è¿™ä¸€åƒé¡µçš„æ•°å­—å¹¶è®¡ç®—å‡ºè¿™äº›æ•°å­—çš„æ€»å’Œã€‚ åˆ†æå…ˆæ¥åˆ†æä¸€ä¸‹é¡µé¢çš„æºç ï¼ˆç¬¬ä¸€é¡µçš„æºç å¯ä»¥é€šè¿‡é™„ä»¶ä¸‹è½½). å¯ä»¥çœ‹å‡ºæ¯ä¸ªæ•°å­—å¯¹åº”çš„ class ä¸ºè‡³å°‘ä¸ƒä½çš„å­—ç¬¦ä¸²ï¼Œå¹¶ä¸”æ¯æ¬¡è®¿é—®å¾—åˆ°çš„å€¼éƒ½ä¸ä¸€æ ·ï¼Œä»è¿™é‡Œå¯ä»¥æ¨æ–­å‡ºï¼ŒåŸºæœ¬ä¸å¯èƒ½é€šè¿‡æŠ“å–æ¯ä¸ªå­—ç¬¦ä¸²çš„å€¼å»åŒ¹é…æ¯ä¸ªæ•°å­—ã€‚ å†æ¥çœ‹ä¸‹CSS å›¾åƒ: æ ¼å¼åŒ–åæˆå¦‚ä¸‹ï¼š å¤§æ¦‚åˆ†ä¸º3éƒ¨åˆ†ï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯IDå¯¹åº”åˆ‡å›¾çš„åæ ‡ï¼Œç¬¬äºŒéƒ¨åˆ†æ˜¯é«˜åº¦åŠå¤§å°ä¿¡æ¯ï¼Œç¬¬ä¸‰éƒ¨åˆ†æ˜¯é›ªç¢§å›¾åŸå›¾ã€‚å°†é›ªç¢§å›¾è§£ç è¿˜åŸæˆå›¾ç‰‡å¦‚ä¸‹ï¼š è§£é¢˜æ ¹æ®ä»¥ä¸Šä¿¡æ¯ï¼Œè¿™é“é¢˜çš„æ€è·¯å°±å¾ˆæ¸…æ¥šäº†ã€‚ æˆ‘ä»¬æŠŠå›¾ç‰‡é‡Œé¢çš„æ•°å­—è¿›è¡Œåˆ†å‰²ï¼Œåˆ‡å›¾åç§»å°äºç­‰äºæ•°å­—æœ€å·¦çš„åƒç´ å€¼ï¼Œç°åœ¨åªéœ€è¦è®¡ç®—å‡ºæ¯ä¸ªæ•°å­—å·¦å³ä¸¤è¾¹çš„åæ ‡å³å¯ï¼Œå›¾åƒåˆ†å‰²ä¸»è¦ä»£ç å¦‚ä¸‹ï¼š 1234567891011split_num = []for x in range(0, width): check_flag = False for y in range(0, height): pix_data = img.getpixel((x,y)) if not (pix_data[0] &gt; 250 and pix_data[1] &gt; 250 and pix_data[2] &gt; 250): check_flag = True break if is_sign ^ check_flag: split_num.append(int(x)) is_sign = not is_sign ï¼ˆè¿™è¾¹ç™½è‰²åŒºåŸŸåˆ¤å®šä½¿ç”¨ 250 æ˜¯å› ä¸ºé˜²æ­¢æœ‰äº›å›¾ç‰‡è‰²æ³½ä¸æ¸…ï¼Œå¯èƒ½å¼•èµ·è¯¯åˆ¤ï¼Œå®é™…åº”è¯¥ä½¿ç”¨ 255 ï¼‰ æµ‹è¯•æ•°å­—è¾¹ç•Œè¯†åˆ«ç»“æœå¦‚ä¸‹ï¼š ç„¶åæ¥ä¸‹æ¥æµ‹è¯•ä¸€ä¸‹ç¬¬ä¸€é¡µè¯†åˆ«çš„æ•°å€¼å¯¹ä¸å¯¹ï¼Œä¸»è¦ä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425image_data = BytesIO(base64.b64decode(image_base64))img = Image.open(image_data)width = img.size[0]height = img.size[1]is_sign = Falsesplit_num = []for x in range(0, width): check_flag = False for y in range(0, height): pix_data = img.getpixel((x,y)) if not (pix_data[0] &gt; 250 and pix_data[1] &gt; 250 and pix_data[2] &gt; 250): check_flag = True break if is_sign ^ check_flag: split_num.append(int(x)) is_sign = not is_signsum_num = 0for block in block_arr: rt_str = '' for num_str in block: for i in range(0, len(split_num)): if int(self.position_dic[num_str]) &lt; split_num[i]: rt_str = rt_str + str(int(i/2)) break è¿è¡Œç»“æœ: æ¥ä¸‹æ¥å°±æ˜¯éå†ä¸€åƒé¡µçš„äº‹æƒ…äº†ã€‚é¢˜ç›®å‡ºå¾—è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œè¦æ˜¯å›¾ç‰‡ä¸­çš„æ•°å­—æ˜¯ä¹±åºï¼Œå°±å¾ˆéº»çƒ¦äº†ã€‚ é™„ä»¶ ç¬¬ä¸€é¡µæºç  pythonæºç ","categories":[{"name":"é›ªç¢§å›¾","slug":"é›ªç¢§å›¾","permalink":"https://blog.c1ker.top/categories/é›ªç¢§å›¾/"}],"tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://blog.c1ker.top/tags/çˆ¬è™«/"},{"name":"python","slug":"python","permalink":"https://blog.c1ker.top/tags/python/"}],"keywords":[{"name":"é›ªç¢§å›¾","slug":"é›ªç¢§å›¾","permalink":"https://blog.c1ker.top/categories/é›ªç¢§å›¾/"}]},{"title":"Hello World","slug":"hello-wolrd","date":"2015-12-31T15:59:59.000Z","updated":"2019-07-29T15:40:23.176Z","comments":true,"path":"2015/12/31/hello-wolrd/","link":"","permalink":"https://blog.c1ker.top/2015/12/31/hello-wolrd/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[{"name":"hexoåšå®¢æŠ˜è…¾","slug":"hexoåšå®¢æŠ˜è…¾","permalink":"https://blog.c1ker.top/categories/hexoåšå®¢æŠ˜è…¾/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"https://blog.c1ker.top/tags/hexo/"}],"keywords":[{"name":"hexoåšå®¢æŠ˜è…¾","slug":"hexoåšå®¢æŠ˜è…¾","permalink":"https://blog.c1ker.top/categories/hexoåšå®¢æŠ˜è…¾/"}]}]}